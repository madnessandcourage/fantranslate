#!/bin/bash

# Parse command line arguments
while getopts "e" opt; do
    case $opt in
        e)
            INSTALL_EDITABLE=true
            ;;
        *)
            echo "Usage: $0 [-e]"
            exit 1
            ;;
    esac
done

# Activate virtual environment
source venv/bin/activate

# Install in editable mode if -e flag is provided
if [ "$INSTALL_EDITABLE" = true ]; then
    pip install -e .
fi

# Run formatters and linters
black src/ tests/
isort src/ tests/

# Run type checker
pyright